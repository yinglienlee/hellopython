<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title docid="3400">ç¶œåˆç·´ç¿’ï¼šBouncing Balls</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
	<!-- Prism.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.css">
    <!-- Prism.js Line Numbers CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <!-- Prism.js Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <!-- Prism.js Line Numbers Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", (event) => {
            includeHTML(highlightItem);
            document.getElementById("toggleNav").addEventListener("click", navClick);
			enableAnswerRevealer();
        });
    </script>
</head>
<body>
    <div class="d-flex">
		<!-- Floating Button -->
        <button id="toggleNav" class="btn btn-primary">&#8212;</button>
        <nav id="sidebar" class="bg-light border-end" style="display: block;">
            <div>
                <div w3-include-html="navigation.html"></div>
            </div>
        </nav>
        <main class="flex-grow-1">
            <header>
                <h1>ç¶œåˆç·´ç¿’ï¼šBouncing Balls</h1>
            </header>
            <section>
                <h2>å­¸ç¿’å°è¦½</h2>
                <p>åœ¨æœ¬æ•™å­¸ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’å¦‚ä½•ä½¿ç”¨ Python å’Œ <code>pygame</code> å¯¦ç¾ä¸€å€‹ç°¡å–®çš„ Ball Bounce æ¨¡æ“¬å™¨ï¼Œå­¸ç¿’å…§å®¹åŒ…æ‹¬ï¼š</p>
                <ul>
                    <li>å¦‚ä½•åˆå§‹åŒ– <code>pygame</code> ä¸¦è¨­ç½®ç•«å¸ƒã€‚</li>
                    <li>å¦‚ä½•ä½¿ç”¨æ»‘é¼ ä¾†å»ºç«‹å°çƒä¸¦è¨­å®šå…¶é€Ÿåº¦èˆ‡æ–¹å‘ã€‚</li>
                    <li>å¦‚ä½•è®“å°çƒåœ¨é‚Šç•Œç¢°æ’æ™‚åå½ˆã€‚</li>
                    <li>å¦‚ä½•å¯¦ç¾å°çƒä¹‹é–“çš„ç¢°æ’æª¢æŸ¥èˆ‡åæ‡‰ã€‚</li>
                </ul>
            </section>

            <section>
                <h2>ç¨‹å¼æ¶æ§‹</h2>
                <p>æˆ‘å€‘å°‡æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿå¯¦ä½œç¨‹å¼ï¼š</p>
                <ol>
                    <li>åˆå§‹åŒ– <code>pygame</code> ä¸¦è¨­ç½®è¦–çª—åƒæ•¸ã€‚</li>
                    <li>ä½¿ç”¨æ»‘é¼ é»æ“Šä¾†å‰µå»ºå°çƒã€‚</li>
                    <li>æ ¹æ“šæ»‘é¼ æ‹–å‹•è¨­ç½®å°çƒé€Ÿåº¦ã€‚</li>
                    <li>è®“å°çƒåœ¨è¦–çª—é‚Šç•Œç¢°æ’ä¸¦åå½ˆã€‚</li>
                    <li>å¯¦ç¾å°çƒä¹‹é–“çš„ç¢°æ’æª¢æ¸¬èˆ‡å½ˆæ€§ç¢°æ’åæ‡‰ã€‚</li>
                </ol>
            </section>

            <section>
                <h2>ç¨‹å¼ç¢¼å¯¦ç¾</h2>
                <p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„ç¨‹å¼ç¢¼ï¼š</p>
                <pre class="line-numbers"><code class="language-python">import pygame
import sys
import math

# Initialize pygame
pygame.init()

# Constants
WIDTH, HEIGHT = 800, 600
BG_COLOR = (30, 30, 30)
BALL_COLOR = (200, 0, 0)
LINE_COLOR = (0, 200, 0)
BALL_RADIUS = 10
FPS = 60

# Screen setup
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Ball Bounce Simulation")

# Clock for controlling the frame rate
clock = pygame.time.Clock()

# Variables
balls = []

class Ball:
    def __init__(self, position, velocity):
        self.position = position
        self.velocity = velocity

    def update(self):
        self.position[0] += self.velocity[0]
        self.position[1] += self.velocity[1]
        if self.position[0] - BALL_RADIUS < 0 or self.position[0] + BALL_RADIUS > WIDTH:
            self.velocity[0] = -self.velocity[0]
        if self.position[1] - BALL_RADIUS < 0 or self.position[1] + BALL_RADIUS > HEIGHT:
            self.velocity[1] = -self.velocity[1]

    def draw(self):
        pygame.draw.circle(screen, BALL_COLOR, (int(self.position[0]), int(self.position[1])), BALL_RADIUS)

    def check_collision(self, other):
        dx = self.position[0] - other.position[0]
        dy = self.position[1] - other.position[1]
        distance = math.sqrt(dx**2 + dy**2)
        if distance < 2 * BALL_RADIUS:
            nx, ny = dx / distance, dy / distance
            p = 2 * (self.velocity[0] * nx + self.velocity[1] * ny - other.velocity[0] * nx - other.velocity[1] * ny) / 2
            self.velocity[0] -= p * nx
            self.velocity[1] -= p * ny
            other.velocity[0] += p * nx
            other.velocity[1] += p * ny

running = True
while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        if event.type == pygame.MOUSEBUTTONDOWN:
            position = list(event.pos)
            velocity = [0, 0]
            balls.append(Ball(position, velocity))
        if event.type == pygame.MOUSEBUTTONUP:
            if balls:
                dx = pygame.mouse.get_pos()[0] - balls[-1].position[0]
                dy = pygame.mouse.get_pos()[1] - balls[-1].position[1]
                balls[-1].velocity = [dx / 10, dy / 10]

    for ball in balls:
        ball.update()
    for i in range(len(balls)):
        for j in range(i + 1, len(balls)):
            balls[i].check_collision(balls[j])
    screen.fill(BG_COLOR)
    for ball in balls:
        ball.draw()
    pygame.display.flip()
    clock.tick(FPS)

pygame.quit()
sys.exit()</code></pre>
            </section>

            
			<section>
                <h2>è©³ç´°æ–¹æ³•èˆ‡å‡½å¼èªªæ˜</h2>
                <h3>1. <code>pygame.init()</code></h3>
                <p>åˆå§‹åŒ– <code>pygame</code>ï¼Œå¿…é ˆåœ¨ç¨‹å¼é–‹å§‹æ™‚èª¿ç”¨ã€‚</p>

                <h3>2. <code>pygame.display.set_mode()</code></h3>
                <p>è¨­å®šç•«å¸ƒçš„å¤§å°å’Œæ¨™é¡Œã€‚</p>

                <h3>3. Ball é¡åˆ¥</h3>
                <p>ç®¡ç†å°çƒçš„å±¬æ€§ï¼ˆå¦‚ä½ç½®ã€é€Ÿåº¦ï¼‰åŠå…¶è¡Œç‚ºã€‚</p>
                <pre class="line-numbers"><code class="language-python">class Ball:
    def __init__(self, position, velocity):
        self.position = position
        self.velocity = velocity

    def update(self):
        # æ›´æ–°ä½ç½®
        self.position[0] += self.velocity[0]
        self.position[1] += self.velocity[1]

    def draw(self):
        # ç¹ªè£½å°çƒ
        pygame.draw.circle(screen, BALL_COLOR, (int(self.position[0]), int(self.position[1])), BALL_RADIUS)</code></pre>

                <h3>4. ç¢°æ’æª¢æ¸¬</h3>
                <p>è¨ˆç®—å°çƒä¹‹é–“çš„è·é›¢ï¼Œä¸¦æ ¹æ“šç‰©ç†å…¬å¼é€²è¡Œé€Ÿåº¦æ›´æ–°ã€‚</p>
                <pre class="line-numbers"><code class="language-python">def check_collision(self, other):
    dx = self.position[0] - other.position[0]
    dy = self.position[1] - other.position[1]
    distance = math.sqrt(dx**2 + dy**2)
    if distance < 2 * BALL_RADIUS:
        # å½ˆæ€§ç¢°æ’å…¬å¼
        nx, ny = dx / distance, dy / distance
        p = 2 * (self.velocity[0] * nx + self.velocity[1] * ny - other.velocity[0] * nx - other.velocity[1] * ny) / 2
        self.velocity[0] -= p * nx
        self.velocity[1] -= p * ny
        other.velocity[0] += p * nx
        other.velocity[1] += p * ny</code></pre>
            </section>

            <section>
                <h2>å¸¸è¦‹å•é¡Œèˆ‡è§£ç­”</h2>
                <h3>å•é¡Œ 1ï¼šå¦‚ä½•è®“å°çƒæœ‰ä¸åŒé¡è‰²ï¼Ÿ</h3>
                <p>å¯ä»¥åœ¨ <code>Ball</code> é¡åˆ¥ä¸­æ·»åŠ é¡è‰²å±¬æ€§ï¼š</p>
                <pre class="line-numbers"><code class="language-python">class Ball:
    def __init__(self, position, velocity, color):
        self.position = position
        self.velocity = velocity
        self.color = color</code></pre>
                <p>å‰µå»ºå°çƒæ™‚éš¨æ©ŸæŒ‡å®šé¡è‰²ï¼š</p>
                <pre class="line-numbers"><code class="language-python">ball_color = random.choice([(200, 0, 0), (0, 200, 0), (0, 0, 200)])
balls.append(Ball(position, velocity, ball_color))</code></pre>

                <h3>å•é¡Œ 2ï¼šå¦‚ä½•æ§åˆ¶å°çƒçš„å¤§å°ï¼Ÿ</h3>
                <p>åœ¨ <code>Ball</code> é¡åˆ¥ä¸­æ·»åŠ å¤§å°å±¬æ€§ï¼š</p>
                <pre class="line-numbers"><code class="language-python">class Ball:
    def __init__(self, position, velocity, radius):
        self.position = position
        self.velocity = velocity
        self.radius = radius</code></pre>
                <p>ç¹ªè£½æ™‚ä½¿ç”¨è©²å±¬æ€§ï¼š</p>
                <pre class="line-numbers"><code class="language-python">pygame.draw.circle(screen, self.color, (int(self.position[0]), int(self.position[1])), self.radius)</code></pre>

                <h3>å•é¡Œ 3ï¼šå¦‚ä½•çµ±è¨ˆç¢°æ’æ¬¡æ•¸ï¼Ÿ</h3>
                <p>åœ¨ä¸»å¾ªç’°ä¸­æ–°å¢ä¸€å€‹è¨ˆæ•¸å™¨ï¼Œæ¯æ¬¡æª¢æ¸¬åˆ°ç¢°æ’æ™‚éå¢ï¼š</p>
                <pre class="line-numbers"><code class="language-python">collision_count = 0
for i in range(len(balls)):
    for j in range(i + 1, len(balls)):
        if balls[i].check_collision(balls[j]):
            collision_count += 1</code></pre>
                <p>å¯ä»¥åœ¨ç•«å¸ƒä¸Šé¡¯ç¤ºç¢°æ’æ¬¡æ•¸ï¼š</p>
                <pre class="line-numbers"><code class="language-python">font = pygame.font.Font(None, 36)
text = font.render(f"Collisions: {collision_count}", True, (255, 255, 255))
screen.blit(text, (10, 10))</code></pre>

                <h3>å•é¡Œ 4ï¼šå¦‚ä½•å¢åŠ é‡åŠ›æ•ˆæœï¼Ÿ</h3>
                <p>å¯ä»¥åœ¨å°çƒçš„ <code>update</code> æ–¹æ³•ä¸­å¢åŠ é‡åŠ›å½±éŸ¿ï¼š</p>
                <pre class="line-numbers"><code class="language-python">gravity = 0.5
self.velocity[1] += gravity</code></pre>
            </section>

            <section>
                <h2>æŒ‘æˆ°é¡Œç›®</h2>
                <h3 class="caption">æŒ‘æˆ° 1ï¼šè¨­è¨ˆå¤šç¨®å°çƒå±¬æ€§ <span class="icon">ğŸ›ˆ</span></h3>
    <p>ä¾‹å¦‚ï¼Œä¸åŒçš„é¡è‰²ã€å¤§å°ã€è³ªé‡ï¼Œä¸¦è®“è³ªé‡å½±éŸ¿ç¢°æ’æ•ˆæœã€‚</p>
    <div class="answer">
        <pre class="line-numbers"><code class="language-python"># è§£ç­”
import random

class Ball:
    def __init__(self, position, velocity, radius, mass, color):
        self.position = position
        self.velocity = velocity
        self.radius = radius
        self.mass = mass
        self.color = color

    def draw(self):
        pygame.draw.circle(screen, self.color, (int(self.position[0]), int(self.position[1])), self.radius)

    def check_collision(self, other):
        dx = self.position[0] - other.position[0]
        dy = self.position[1] - other.position[1]
        distance = math.sqrt(dx**2 + dy**2)
        if distance < self.radius + other.radius:
            nx, ny = dx / distance, dy / distance
            relative_velocity = (
                self.velocity[0] - other.velocity[0],
                self.velocity[1] - other.velocity[1]
            )
            speed = relative_velocity[0] * nx + relative_velocity[1] * ny
            if speed < 0:
                impulse = 2 * speed / (self.mass + other.mass)
                self.velocity[0] -= impulse * other.mass * nx
                self.velocity[1] -= impulse * other.mass * ny
                other.velocity[0] += impulse * self.mass * nx
                other.velocity[1] += impulse * self.mass * ny

# å‰µå»ºå¸¶æœ‰ä¸åŒå±¬æ€§çš„å°çƒ
balls = []
for _ in range(5):
    position = [random.randint(50, WIDTH - 50), random.randint(50, HEIGHT - 50)]
    velocity = [random.uniform(-2, 2), random.uniform(-2, 2)]
    radius = random.randint(10, 20)
    mass = radius  # è³ªé‡èˆ‡åŠå¾‘æˆæ­£æ¯”
    color = [random.randint(0, 255) for _ in range(3)]
    balls.append(Ball(position, velocity, radius, mass, color))
</code></pre>
    </div>

    <h3 class="caption">æŒ‘æˆ° 2ï¼šé¡¯ç¤ºé€Ÿåº¦å‘é‡ <span class="icon">ğŸ›ˆ</span></h3>
    <p>åœ¨æ¯å€‹å°çƒä¸Šç¹ªè£½é€Ÿåº¦å‘é‡ï¼Œè¡¨ç¤ºå…¶é‹å‹•æ–¹å‘å’Œé€Ÿåº¦å¤§å°ã€‚</p>
    <div class="answer">
        <pre class="line-numbers"><code class="language-python"># è§£ç­”
class Ball:
    # ... (å…¶ä»–ä»£ç¢¼ä¿æŒä¸è®Š)
    def draw_velocity_vector(self):
        end_x = self.position[0] + self.velocity[0] * 10
        end_y = self.position[1] + self.velocity[1] * 10
        pygame.draw.line(screen, LINE_COLOR, (self.position[0], self.position[1]), (end_x, end_y), 2)
</code></pre>
    </div>

    <h3 class="caption">æŒ‘æˆ° 3ï¼šå¢åŠ é‚Šç•Œæ‘©æ“¦åŠ› <span class="icon">ğŸ›ˆ</span></h3>
    <p>ç•¶å°çƒèˆ‡é‚Šç•Œç¢°æ’æ™‚ï¼Œè®“å…¶é€Ÿåº¦é€æ¼¸æ¸›å°ã€‚</p>
    <div class="answer">
        <pre class="line-numbers"><code class="language-python"># è§£ç­”
class Ball:
    def update(self):
        self.position[0] += self.velocity[0]
        self.position[1] += self.velocity[1]
        friction = 0.98  # æ‘©æ“¦åŠ›ç³»æ•¸
        if self.position[0] - self.radius < 0 or self.position[0] + self.radius > WIDTH:
            self.velocity[0] = -self.velocity[0] * friction
        if self.position[1] - self.radius < 0 or self.position[1] + self.radius > HEIGHT:
            self.velocity[1] = -self.velocity[1] * friction
</code></pre>
    </div>

    <h3 class="caption">æŒ‘æˆ° 4ï¼šæ–°å¢æ‹–æ›³åŠŸèƒ½ <span class="icon">ğŸ›ˆ</span></h3>
    <p>å…è¨±ç”¨æ»‘é¼ æ‹–æ›³å·²ç¶“å‰µå»ºçš„å°çƒä¸¦æ”¹è®Šå…¶ä½ç½®ã€‚</p>
    <div class="answer">
        <pre class="line-numbers"><code class="language-python"># è§£ç­”
dragged_ball = None

for event in pygame.event.get():
    if event.type == pygame.MOUSEBUTTONDOWN:
        for ball in balls:
            dx = event.pos[0] - ball.position[0]
            dy = event.pos[1] - ball.position[1]
            if math.sqrt(dx**2 + dy**2) <= ball.radius:
                dragged_ball = ball
    elif event.type == pygame.MOUSEMOTION and dragged_ball:
        dragged_ball.position = list(event.pos)
    elif event.type == pygame.MOUSEBUTTONUP:
        dragged_ball = None
</code></pre>
    </div>
            </section>

            <section>
                <h2>çµèª</h2>
                <p>é€éæœ¬æ¬¡æ•™å­¸ï¼Œæˆ‘å€‘å­¸ç¿’äº†å¦‚ä½•ä½¿ç”¨ Python å’Œ <code>pygame</code> è£½ä½œäº’å‹•å¼æ¨¡æ“¬å™¨ï¼Œä¸¦æ¢è¨äº†å¯¦ç¾æ›´è¤‡é›œåŠŸèƒ½çš„æ–¹æ³•ã€‚å¸Œæœ›ä½ èƒ½é€éæŒ‘æˆ°é¡Œé€²ä¸€æ­¥æ‹“å±•æ­¤ç¨‹å¼ï¼</p>
            </section>
			
        </main>
    </div>
</body>
</html>