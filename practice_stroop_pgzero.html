<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¶œåˆç·´ç¿’ï¼šStroop Task</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
	<!-- Prism.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.css">
    <!-- Prism.js Line Numbers CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <!-- Prism.js Syntax Highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <!-- Prism.js Line Numbers Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
	<script>
        document.addEventListener("DOMContentLoaded", (event) => {
            includeHTML(highlightItem);
            document.getElementById("toggleNav").addEventListener("click", navClick);
            enableAnswerRevealer();
        });
    </script>
</head>
<body>
    <div class="d-flex">
        <button id="toggleNav" class="btn btn-primary">&#8212;</button>
        <nav id="sidebar" class="bg-light border-end" style="display: block;">
            <div>
                <div w3-include-html="navigation.html"></div>
            </div>
        </nav>
        <main class="flex-grow-1">
            <header>
                <h1>ç¶œåˆç·´ç¿’ï¼šStroop Task</h1>
            </header>
            <section>
                <h2>å­¸ç¿’å°è¦½</h2>
                <p>åœ¨é€™ä¸€ç« ä¸­ï¼Œæˆ‘å€‘å°‡ä½¿ç”¨ <code>pgzero</code>ï¼ˆPygame Zeroï¼‰è¨­è¨ˆä¸€å€‹ Stroop Task æ¸¬é©—ç¨‹å¼ã€‚ç¨‹å¼çµåˆåœ–å½¢åŒ–ä»‹é¢èˆ‡äº’å‹•è¨­è¨ˆï¼Œä¸¦èƒ½å°‡çµæœå„²å­˜åˆ° CSV æª”æ¡ˆã€‚</p>
                <ul>
                    <li>ä»€éº¼æ˜¯ Stroop Taskï¼Ÿ</li>
                    <li>å¦‚ä½•è¨­è¨ˆäº’å‹•å¼åœ–å½¢ç•Œé¢ï¼Ÿ</li>
                    <li>å¦‚ä½•è¨˜éŒ„åæ‡‰æ™‚é–“èˆ‡çµæœåˆ° CSVï¼Ÿ</li>
                </ul>
                <p>å®Œæˆæœ¬ç« å¾Œï¼Œä½ å°‡èƒ½è¨­è¨ˆä¸€å€‹å…·æœ‰æ•¸æ“šè’é›†åŠŸèƒ½çš„å¿ƒç†å­¸æ¸¬é©—æ‡‰ç”¨ã€‚</p>
            </section>

            <section>
                <h2>ä»€éº¼æ˜¯ Stroop Taskï¼Ÿ</h2>
                <p>Stroop Task æ˜¯ä¸€ç¨®å¿ƒç†å­¸æ¸¬é©—ï¼Œç”¨æ–¼æ¸¬è©¦èªçŸ¥æ§åˆ¶èˆ‡æ³¨æ„åŠ›ã€‚åœ¨æ­¤æ¸¬é©—ä¸­ï¼Œåƒèˆ‡è€…éœ€è¦å›ç­”å­—é«”é¡è‰²ï¼Œè€Œéå­—çš„å…§å®¹ã€‚ä¾‹å¦‚ï¼š</p>
                <ul>
                    <li>é¡¯ç¤ºã€Œ<span style="color:red;">è—è‰²</span>ã€ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œç´…è‰²ã€ï¼Œè€Œéã€Œè—è‰²ã€ã€‚</li>
                </ul>
                <p>æ­¤ä»»å‹™è€ƒé©—åƒèˆ‡è€…æ˜¯å¦èƒ½å¿½ç•¥å­—ç¾©çš„å¹²æ“¾ï¼Œå¿«é€Ÿå°ˆæ³¨æ–¼é¡è‰²è¾¨è­˜ã€‚</p>
            </section>

<section>
    <h2>ç¨‹å¼ç¢¼è©³ç´°èªªæ˜</h2>

    <h3>1. æ¨¡çµ„èˆ‡å…¨åŸŸè®Šæ•¸å®šç¾©</h3>
    <pre class="line-numbers"><code class="language-python">import pgzrun
import random
import time
import csv

WIDTH = 900
HEIGHT = 400

COLORS = ["red", "blue", "green", "yellow"]
WORDS = ["ç´…è‰²", "è—è‰²", "ç¶ è‰²", "é»ƒè‰²"]

number_of_tasks = 20
tasks = []  # å„²å­˜æ‰€æœ‰ä»»å‹™
results = []  # å„²å­˜ä½¿ç”¨è€…åæ‡‰çµæœ
reaction_start_time = 0  # è¨˜éŒ„åæ‡‰æ™‚é–“èµ·é»
current_color = None
current_word = None
is_waiting = True  # åˆ¤æ–·æ˜¯å¦ç­‰å¾…æŒ‰éµ
buttons = []  # å„²å­˜æŒ‰éˆ•çš„å€åŸŸ</code></pre>
    <p>åŒ¯å…¥å¿…è¦æ¨¡çµ„ï¼Œå®šç¾©ç•«é¢å¯¬é«˜å’Œé¡è‰²é¸é …ï¼Œä¸¦åˆå§‹åŒ–æ¸¬é©—ä»»å‹™ã€æŒ‰éˆ•å’Œåæ‡‰æ™‚é–“ç­‰å…¨åŸŸè®Šæ•¸ã€‚</p>

    <h3>2. æ¸¬é©—ä»»å‹™ç”Ÿæˆ</h3>
    <pre class="line-numbers"><code class="language-python">for _ in range(number_of_tasks//2):
    color = random.choice(COLORS)
    word = WORDS[COLORS.index(color)]
    tasks.append((color, word))
for _ in range(number_of_tasks//2):
    color = random.choice(COLORS)
    word = random.choice([WORDS[COLORS.index(w)] for w in COLORS if w != color])
    tasks.append((color, word))
random.shuffle(tasks)</code></pre>
    <p>ç”Ÿæˆ 20 å€‹æ¸¬é©—ä»»å‹™ï¼Œå…¶ä¸­ 10 å€‹æ˜¯é¡è‰²èˆ‡æ–‡å­—ä¸€è‡´ï¼Œå¦ 10 å€‹æ˜¯é¡è‰²èˆ‡æ–‡å­—ä¸ä¸€è‡´ï¼Œä¸¦å°‡ä»»å‹™éš¨æ©Ÿæ’åºã€‚</p>

    <h3>3. ç•«é¢ç¹ªè£½èˆ‡æŒ‰éˆ•è¨­ç½®</h3>
    <pre class="line-numbers"><code class="language-python">def draw():
    screen.clear()
    screen.fill("white")
	
    progress_text = f"ç­”é¡Œé€²åº¦ï¼š{len(results)}/{number_of_tasks}"
    screen.draw.text(
        progress_text,
        (10, 10),
        fontsize=24,
        color="black",
        fontname="notosans.ttf"
    )
	
    if is_waiting:
        instructions = "é»æ“Šä¸‹æ–¹æŒ‰éˆ•é¸æ“‡é¡è‰²ä»¥å›ç­”ã€‚\næŒ‰ç©ºç™½éµé–‹å§‹..."
        screen.draw.text(instructions, center=(WIDTH // 2, HEIGHT // 2 - 50), fontsize=30, color="black")
    else:
        screen.draw.text(current_word, center=(WIDTH // 2, HEIGHT // 2 - 100), fontsize=48, color=current_color)
    draw_buttons()</code></pre>
    <p>æ ¹æ“šç‹€æ…‹é¡¯ç¤ºç­”é¡Œé€²åº¦ï¼Œèªªæ˜æ–‡å­—æˆ–æ¸¬é©—å–®è©ï¼Œä¸¦ç¹ªè£½é¡è‰²æŒ‰éˆ•ã€‚</p>

    <pre class="line-numbers"><code class="language-python">def draw_buttons():
    button_width = 100
    button_height = 50
    spacing = 20
    total_width = len(COLORS) * (button_width + spacing) - spacing
    start_x = (WIDTH - total_width) // 2
    y = HEIGHT // 2 + 50

    buttons = []
    for i, color in enumerate(COLORS):
        x = start_x + i * (button_width + spacing)
        rect = Rect((x, y), (button_width, button_height))
        buttons.append((rect, color))
        screen.draw.filled_rect(rect, color)
        screen.draw.text(
            WORDS[i],
            center=(rect.centerx, rect.centery),
            fontsize=24,
            color="white" if color != "yellow" else "black",
        )</code></pre>
    <p>è¨ˆç®—æŒ‰éˆ•ä½ç½®èˆ‡å¤§å°ï¼Œç‚ºæ¯å€‹é¡è‰²ç¹ªè£½æŒ‰éˆ•åŠæ–‡å­—ã€‚</p>

    <h3>4. æŒ‰éµèˆ‡æ»‘é¼ äº‹ä»¶è™•ç†</h3>
    <pre class="line-numbers"><code class="language-python">def on_mouse_down(pos):
    if is_waiting:
        return
    for rect, color in buttons:
        if rect.collidepoint(pos):
            handle_response(color)

def on_key_down(key):
    if is_waiting and key == keys.SPACE:
        show_next_word()</code></pre>
    <p>æ ¹æ“šä½¿ç”¨è€…è¼¸å…¥è™•ç†æŒ‰éˆ•é»æ“Šæˆ–ç©ºç™½éµæŒ‰ä¸‹äº‹ä»¶ï¼Œå•Ÿå‹•æ¸¬é©—æˆ–è¨˜éŒ„å›æ‡‰ã€‚</p>

    <h3>5. æ¸¬é©—é‚è¼¯èˆ‡çµæœè¨˜éŒ„</h3>
    <pre class="line-numbers"><code class="language-python">def show_next_word():
    if not tasks:
        save_results()
        exit()
    is_waiting = False
    current_color, current_word = tasks.pop(0)
    reaction_start_time = time.time()

def handle_response(selected_color):
    reaction_time = time.time() - reaction_start_time
    correct = (selected_color == current_color)
    results.append((current_color, current_word, selected_color, correct, reaction_time))
    is_waiting = True</code></pre>
    <p>ä¾åºé¡¯ç¤ºæ¸¬é©—å–®è©ï¼Œä¸¦è¨˜éŒ„ä½¿ç”¨è€…çš„åæ‡‰æ™‚é–“èˆ‡ç­”æ¡ˆæ­£ç¢ºæ€§ã€‚</p>

    <h3>6. çµæœå„²å­˜</h3>
    <pre class="line-numbers"><code class="language-python">def save_results():
    """å„²å­˜çµæœåˆ° CSV æª”æ¡ˆ"""
    with open("stroop_results.csv", "w", newline="", encoding="utf-8") as file:
        writer = csv.writer(file)
        writer.writerow(["Color (English)", "Word (Chinese)", "Selected Color", "Correct", "Reaction Time"])
        writer.writerows(results)
    print("çµæœå·²ä¿å­˜åˆ° stroop_results.csv")</code></pre>

	<h3>7. å•Ÿå‹•ç¨‹å¼</h3>
            <pre class="line-numbers"><code class="language-python">pgzrun.go()</code></pre>
            <p>é€™ä¸€è¡Œå•Ÿå‹• Pygame Zeroï¼Œé€²å…¥ç¨‹å¼çš„äº‹ä»¶å¾ªç’°ã€‚</p>
        </section>

            <section>
                <h2>å®Œæ•´ç¯„ä¾‹ç¨‹å¼ç¢¼</h2>
                <pre class="line-numbers"><code class="language-python">import pgzrun
import random
import time
import csv

WIDTH = 900
HEIGHT = 400

# é¡è‰²èˆ‡å­—è©é¸é …
COLORS = ["red", "blue", "green", "yellow"]
WORDS = ["ç´…è‰²", "è—è‰²", "ç¶ è‰²", "é»ƒè‰²"]

# å…¨åŸŸè®Šæ•¸
number_of_tasks = 20
tasks = []  # å„²å­˜æ‰€æœ‰ä»»å‹™
results = []  # å„²å­˜ä½¿ç”¨è€…åæ‡‰çµæœ
reaction_start_time = 0  # è¨˜éŒ„åæ‡‰æ™‚é–“èµ·é»
current_color = None
current_word = None
is_waiting = True  # åˆ¤æ–·æ˜¯å¦ç­‰å¾…æŒ‰éµ
buttons = []  # å„²å­˜æŒ‰éˆ•çš„å€åŸŸ

# ç”Ÿæˆæ¸¬é©—ä»»å‹™
for _ in range(number_of_tasks//2):
    color = random.choice(COLORS)
    word = WORDS[COLORS.index(color)]
    tasks.append((color, word))
for _ in range(number_of_tasks//2):
    color = random.choice(COLORS)
    word = random.choice([WORDS[COLORS.index(w)] for w in COLORS if w != color])
    tasks.append((color, word))
random.shuffle(tasks)

def draw():
    screen.clear()
    screen.fill("white")  # èƒŒæ™¯è¨­ç‚ºç™½è‰²

    # é¡¯ç¤ºç­”é¡Œé€²åº¦ï¼ˆç›®å‰å®Œæˆé¡Œæ•¸/ç¸½é¡Œæ•¸ï¼‰
    progress_text = f"ç­”é¡Œé€²åº¦ï¼š{len(results)}/{number_of_tasks}"
    screen.draw.text(
        progress_text,
        (10, 10),
        fontsize=24,
        color="black",
        fontname="notosans.ttf"
    )

    if is_waiting:
        # é¡¯ç¤ºèªªæ˜æ–‡å­—
        instructions = "é»æ“Šä¸‹æ–¹æŒ‰éˆ•é¸æ“‡é¡è‰²ä»¥å›ç­”ã€‚\næŒ‰ç©ºç™½éµé–‹å§‹..."
        screen.draw.text(
            instructions,
            center=(WIDTH // 2, HEIGHT // 2 - 50),
            fontsize=30,
            color="black",
            align="center",
            fontname="notosans.ttf"
        )
    else:
        # é¡¯ç¤ºå–®è©
        screen.draw.text(
            current_word,
            center=(WIDTH // 2, HEIGHT // 2 - 100),
            fontsize=48,
            color=current_color,
            align="center",
            fontname="notosans.ttf"
        )
    draw_buttons()

def draw_buttons():
    """ç¹ªè£½é¡è‰²æŒ‰éˆ•"""
    global buttons
    button_width = 100
    button_height = 50
    spacing = 20
    total_width = len(COLORS) * (button_width + spacing) - spacing
    start_x = (WIDTH - total_width) // 2
    y = HEIGHT // 2 + 50

    buttons = []
    for i, color in enumerate(COLORS):
        x = start_x + i * (button_width + spacing)
        rect = Rect((x, y), (button_width, button_height))
        buttons.append((rect, color))
        screen.draw.filled_rect(rect, color)
        screen.draw.text(
            WORDS[i],
            center=(rect.centerx, rect.centery),
            fontsize=24,
            color="white" if color != "yellow" else "black",
            align="center",
            fontname="notosans.ttf"
        )

def on_mouse_down(pos):
    """è™•ç†é»æ“ŠæŒ‰éˆ•äº‹ä»¶"""
    global is_waiting, reaction_start_time

    if is_waiting:
        return

    for rect, color in buttons:
        if rect.collidepoint(pos):
            handle_response(color)

def on_key_down(key):
    """æŒ‰ä¸‹ç©ºç™½éµé–‹å§‹æ¸¬é©—"""
    global is_waiting
    if is_waiting and key == keys.SPACE:
        show_next_word()

def show_next_word():
    """é¡¯ç¤ºä¸‹ä¸€å€‹æ¸¬é©—å–®è©"""
    global is_waiting, current_color, current_word, reaction_start_time

    if not tasks:
        save_results()
        exit()

    is_waiting = False
    current_color, current_word = tasks.pop(0)
    reaction_start_time = time.time()

def handle_response(selected_color):
    """è™•ç†ä½¿ç”¨è€…çš„å›æ‡‰"""
    global is_waiting, reaction_start_time

    reaction_time = time.time() - reaction_start_time
    correct = (selected_color == current_color)

    results.append((current_color, current_word, selected_color, correct, reaction_time))
    is_waiting = True

def save_results():
    """å„²å­˜çµæœåˆ° CSV æª”æ¡ˆ"""
    with open("stroop_results.csv", "w", newline="", encoding="utf-8") as file:
        writer = csv.writer(file)
        writer.writerow(["Color (English)", "Word (Chinese)", "Selected Color", "Correct", "Reaction Time"])
        writer.writerows(results)
    print("çµæœå·²ä¿å­˜åˆ° stroop_results.csv")

pgzrun.go()
</code></pre>
            </section>


            <section>
                <h2>æŒ‘æˆ°é¡Œç›®</h2>
                <h3 class="caption">æŒ‘æˆ° 1ï¼šæ–°å¢æ›´å¤šé¡è‰²é¸é … <span class="icon">ğŸ›ˆ</span></h3>
                <p>åœ¨ç¾æœ‰é¸é …ä¸­ï¼Œæ–°å¢ã€Œç´«è‰²ã€èˆ‡ã€Œæ©™è‰²ã€ä½œç‚ºæ–°çš„é¡è‰²é¸é …ã€‚</p>
                <div class="answer">
                    <pre class="line-numbers"><code class="language-python"># è§£ç­”
COLORS.append("purple")
COLORS.append("orange")
WORDS.append("ç´«è‰²")
WORDS.append("æ©™è‰²")
# ç¢ºä¿ä»»å‹™ç”Ÿæˆé‚è¼¯åŒ…å«æ–°é¡è‰²å³å¯ã€‚
                    </code></pre>
                </div>

                <h3 class="caption">æŒ‘æˆ° 2ï¼šè‡ªå®šç¾©æ¸¬é©—æ¬¡æ•¸ <span class="icon">ğŸ›ˆ</span></h3>
                <p>è®“ä½¿ç”¨è€…å¯ä»¥è¨­å®šæ¸¬é©—é¡Œç›®æ•¸é‡ã€‚</p>
                <div class="answer">
                    <pre class="line-numbers"><code class="language-python"># è§£ç­”
num_tasks = int(input("è«‹è¼¸å…¥æ¸¬é©—é¡Œç›®æ•¸é‡ï¼š"))
for _ in range(num_tasks // 2):
    ...
                    </code></pre>
                </div>

                <h3 class="caption">æŒ‘æˆ° 3ï¼šé¡¯ç¤ºæ¸¬é©—å ±å‘Š <span class="icon">ğŸ›ˆ</span></h3>
                <p>åœ¨æ¸¬é©—çµæŸå¾Œï¼Œé¡¯ç¤ºç¸½ç­”å°é¡Œæ•¸èˆ‡å¹³å‡åæ‡‰æ™‚é–“ã€‚</p>
                <div class="answer">
                    <pre class="line-numbers"><code class="language-python"># è§£ç­”
def calculate_report(results):
    correct = sum(1 for r in results if r[3])
    avg_time = sum(r[4] for r in results) / len(results)
    print(f"ç¸½ç­”å°æ•¸ï¼š{correct}/{len(results)}")
    print(f"å¹³å‡åæ‡‰æ™‚é–“ï¼š{avg_time:.2f} ç§’")
                    </code></pre>
                </div>
            </section>

            <section>
                <h2>çµèª</h2>
                <p>é€éé€™ä»½ç·´ç¿’ï¼Œä½ å­¸æœƒäº†å¦‚ä½•è¨­è¨ˆä¸€å€‹å®Œæ•´çš„ Stroop Task æ¸¬é©—ç¨‹å¼ã€‚å¸Œæœ›ä½ èƒ½é€²ä¸€æ­¥å„ªåŒ–ä¸¦æ‹“å±•é€™å€‹æ‡‰ç”¨ï¼</p>
            </section>
        </main>
    </div>
</body>
</html>
