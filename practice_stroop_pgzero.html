<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¶œåˆç·´ç¿’ï¼šStroop Task</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/chatbot.css">	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<script type="text/javascript" src="js/script.js"></script>	
	<script src="https://alcdn.msauth.net/browser/2.38.1/js/msal-browser.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", (event) => {
			includeHTML(highlightItem);			
			document.getElementById("toggleNav").addEventListener("click", navClick);		
			enableAnswerRevealer();
		});
	</script>	
</head>
<body>
    <div class="d-flex">
        <button id="toggleNav" class="btn btn-primary">&#8212;</button>
        <nav id="sidebar" class="bg-light border-end" style="display: block;">
            <div>
                <div w3-include-html="navigation.html"></div>
            </div>
        </nav>
        
        <main class="flex-grow-1" id="teaching-content">
            <header>
                <h1>ç¶œåˆç·´ç¿’ï¼šStroop Task</h1>
            </header>
            <section>
                <h2>å­¸ç¿’å°è¦½</h2>
                
                <p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’å¦‚ä½•ä½¿ç”¨ Pygame Zero å¯¦ä½œç¶“å…¸çš„ **Stroop Task**ï¼ˆå²æ¥šæ™®å¯¦é©—ï¼‰ã€‚Stroop Task æ˜¯ä¸€ç¨®å¿ƒç†å­¸å¯¦é©—ï¼Œç”¨æ–¼è­‰æ˜å¹²æ“¾å°èªçŸ¥è™•ç†é€Ÿåº¦çš„å½±éŸ¿ã€‚æˆ‘å€‘å°‡æœƒæ¶µè“‹ä»¥ä¸‹æŠ€è¡“ç´°ç¯€ï¼š</p>
                <ul>
                    <li>ç®¡ç†éŠæˆ²ç‹€æ…‹ï¼ˆState Machineï¼‰ã€‚</li>
                    <li>è™•ç†æ™‚é–“èˆ‡è¨ˆæ™‚å™¨ (<code>clock</code>)ã€‚</li>
                    <li>å‹•æ…‹ç”Ÿæˆéš¨æ©Ÿçš„æ–‡å­—å…§å®¹å’Œé¡è‰²ã€‚</li>
                    <li>è™•ç†éµç›¤è¼¸å…¥å’Œè¨ˆåˆ†ã€‚</li>
                </ul>
                <p>å®Œæˆæœ¬ç« å¾Œï¼Œä½ å°‡èƒ½å¤ è¨­è¨ˆä¸€å€‹åŠŸèƒ½å®Œæ•´çš„å¿ƒç†å­¸å¯¦é©—æ¨¡æ“¬ç¨‹å¼ã€‚</p>
            </section>

            <section>
                <h2>ç¨‹å¼ç¢¼èªªæ˜</h2>
                
                <h3>1. å…¨åŸŸåƒæ•¸èˆ‡ç‹€æ…‹ç®¡ç†</h3>
                
                <pre class="line-numbers"><code class="language-python">WIDTH = 800
HEIGHT = 600

# å®šç¾©é¡è‰²
COLORS = {
    "ç´…": (255, 0, 0),
    "è—": (0, 0, 255),
    "ç¶ ": (0, 255, 0),
    "é»ƒ": (255, 255, 0)
}
COLOR_NAMES = list(COLORS.keys())
KEYS = {
    keys.R: "ç´…",
    keys.B: "è—",
    keys.G: "ç¶ ",
    keys.Y: "é»ƒ"
}

# éŠæˆ²ç‹€æ…‹ (State Machine)
GAME_STATE = "START"
score = 0
current_word = ""
current_color = (0, 0, 0)
start_time = 0
trial_duration = 1.0  # æ¯æ¬¡å˜—è©¦çš„ç§’æ•¸
trial_timer = 0
max_trials = 10
trial_count = 0</code></pre>
                <p>ç¨‹å¼çš„æ ¸å¿ƒæ˜¯éŠæˆ²ç‹€æ…‹æ©Ÿï¼ˆ<code>GAME_STATE</code>ï¼‰ï¼Œå®ƒæ§åˆ¶äº†ç¨‹å¼æ˜¯åœ¨é–‹å§‹ç•«é¢ï¼ˆ<code>START</code>ï¼‰ã€å¯¦é©—éšæ®µï¼ˆ<code>TRIAL</code>ï¼‰é‚„æ˜¯çµæŸç•«é¢ï¼ˆ<code>END</code>ï¼‰ã€‚</p>
                
                <h3>2. éš¨æ©Ÿç”Ÿæˆå¯¦é©—é …ç›®</h3>
                <p>æ­¤å‡½å¼å¾ <code>COLORS</code> ä¸­éš¨æ©Ÿé¸å–ä¸€å€‹ä½œç‚ºã€Œæ–‡å­—ã€å…§å®¹ï¼Œä¸¦éš¨æ©Ÿé¸å–ä¸€å€‹é¡è‰²ä½œç‚ºã€Œæ–‡å­—é¡è‰²ã€ã€‚</p>
                <pre class="line-numbers"><code class="language-python">import random
import time

def generate_trial():
    global current_word, current_color, trial_timer, trial_count
    
    # éš¨æ©Ÿé¸å–è¦é¡¯ç¤ºçš„æ–‡å­— (ä¾‹å¦‚: "ç´…")
    text_choice = random.choice(COLOR_NAMES)
    current_word = text_choice
    
    # éš¨æ©Ÿé¸å–æ–‡å­—çš„é¡è‰² (ä¾‹å¦‚: è—è‰²çš„é¡è‰²ç¢¼)
    color_choice = random.choice(COLOR_NAMES)
    current_color = COLORS[color_choice]
    
    # é‡è¨­è¨ˆæ™‚å™¨ä¸¦å¢åŠ å˜—è©¦æ¬¡æ•¸
    trial_timer = time.time()
    trial_count += 1</code></pre>

                <h3>3. ç¹ªåœ–å‡½å¼ (`draw`)</h3>
                <p><code>draw</code> å‡½å¼æ ¹æ“šç•¶å‰çš„ <code>GAME_STATE</code> ç¹ªè£½ä¸åŒçš„ç•«é¢ã€‚</p>
                <pre class="line-numbers"><code class="language-python">def draw():
    screen.fill((255, 255, 255)) # ç™½è‰²èƒŒæ™¯
    
    if GAME_STATE == "START":
        draw_start_screen()
    elif GAME_STATE == "TRIAL":
        draw_trial_screen()
    elif GAME_STATE == "END":
        draw_end_screen()</code></pre>
                
                <h3>4. éµç›¤è¼¸å…¥è™•ç† (`on_key_down`)</h3>
                <p>åªåœ¨ <code>TRIAL</code> ç‹€æ…‹ä¸‹ï¼Œæ‰è™•ç†éµç›¤è¼¸å…¥ä¸¦æª¢æŸ¥ç­”æ¡ˆæ˜¯å¦æ­£ç¢ºã€‚</p>
                <pre class="line-numbers"><code class="language-python">def on_key_down(key):
    global GAME_STATE, score
    
    if GAME_STATE == "START" and key == keys.SPACE:
        # é–‹å§‹å¯¦é©—
        GAME_STATE = "TRIAL"
        generate_trial()
    
    elif GAME_STATE == "TRIAL":
        # æª¢æŸ¥ç­”æ¡ˆï¼Œç”¨æˆ¶æŒ‰ä¸‹æŒ‰éµæ‰€å°æ‡‰çš„é¡è‰²
        user_answer_color_name = KEYS.get(key)
        
        # æ­£ç¢ºç­”æ¡ˆæ˜¯æ–‡å­—çš„ã€Œé¡è‰²ã€ï¼Œè€Œä¸æ˜¯æ–‡å­—çš„ã€Œå…§å®¹ã€
        # æˆ‘å€‘è¦æ‰¾çš„æ˜¯ current_color å°æ‡‰çš„é¡è‰²åç¨±
        correct_color_name = next((name for name, color in COLORS.items() if color == current_color), None)
        
        if user_answer_color_name == correct_color_name:
            # ç­”å°äº†
            score += 1
            print("æ­£ç¢ºï¼")
            handle_next_trial()
        else:
            # ç­”éŒ¯äº†
            print("éŒ¯èª¤ï¼")
            handle_next_trial()</code></pre>
                
                <h3>5. æ›´æ–°é‚è¼¯ (`update`)</h3>
                <p>åœ¨ <code>TRIAL</code> ç‹€æ…‹ä¸‹ï¼Œæª¢æŸ¥æ˜¯å¦è¶…æ™‚æˆ–é”åˆ°æœ€å¤§å˜—è©¦æ¬¡æ•¸ã€‚</p>
                <pre class="line-numbers"><code class="language-python">def update():
    global GAME_STATE
    
    if GAME_STATE == "TRIAL":
        # æª¢æŸ¥æ˜¯å¦è¶…æ™‚
        if time.time() - trial_timer > trial_duration:
            print("è¶…æ™‚ï¼")
            handle_next_trial()
            
        # æª¢æŸ¥æ˜¯å¦é”åˆ°æœ€å¤§å˜—è©¦æ¬¡æ•¸
        if trial_count > max_trials:
            GAME_STATE = "END"
            print("å¯¦é©—çµæŸï¼")</code></pre>
                
                <h3>6. è¼”åŠ©ç¹ªåœ–å‡½å¼</h3>
                <p>é€™éƒ¨åˆ†å®šç¾©äº†ä¸‰å€‹è¼”åŠ©å‡½å¼ï¼Œç”¨æ–¼ç¹ªè£½ä¸åŒç‹€æ…‹ä¸‹çš„ç•«é¢ã€‚</p>
                <pre class="line-numbers"><code class="language-python">def draw_start_screen():
    screen.draw.text(
        "å²æ¥šæ™®å¯¦é©—ï¼šè«‹æŒ‰ä¸‹æ–‡å­—ã€Œé¡è‰²ã€å°æ‡‰çš„æŒ‰éµ", 
        (WIDTH // 2 - 300, HEIGHT // 2 - 100), 
        fontsize=40, 
        color=(0, 0, 0)
    )
    # ... [å…¶ä»–ç¹ªåœ–æŒ‡ä»¤]

def draw_trial_screen():
    # é¡¯ç¤ºç•¶å‰å•é¡Œ
    screen.draw.text(
        current_word, 
        (WIDTH // 2 - 50, HEIGHT // 2), 
        fontsize=80, 
        color=current_color
    )
    # ... [å…¶ä»–ç¹ªåœ–æŒ‡ä»¤]

def draw_end_screen():
    # é¡¯ç¤ºçµæœ
    screen.draw.text(
        f"å¯¦é©—çµæŸï¼ç¸½åˆ†ï¼š{score}/{max_trials}", 
        (WIDTH // 2 - 200, HEIGHT // 2), 
        fontsize=60, 
        color=(0, 0, 0)
    )</code></pre>
                

            </section>


            <section>
                <h2>å®Œæ•´ç¯„ä¾‹ç¨‹å¼ç¢¼</h2>
                <pre class="line-numbers"><code class="language-python">import pgzrun
import random
import time

WIDTH = 800
HEIGHT = 600

# é¡è‰²å®šç¾© (æ–‡å­—å…§å®¹èˆ‡å¯¦éš›é¡è‰²)
COLORS = {
    "ç´…": (255, 0, 0),
    "è—": (0, 0, 255),
    "ç¶ ": (0, 255, 0),
    "é»ƒ": (255, 255, 0)
}
COLOR_NAMES = list(COLORS.keys())

# æŒ‰éµå°æ‡‰ (ç”¨æˆ¶è¼¸å…¥)
KEYS = {
    keys.R: "ç´…",
    keys.B: "è—",
    keys.G: "ç¶ ",
    keys.Y: "é»ƒ"
}
KEY_HINTS = "R: ç´… (Red), B: è— (Blue), G: ç¶  (Green), Y: é»ƒ (Yellow)"


# éŠæˆ²ç‹€æ…‹èˆ‡è®Šæ•¸
GAME_STATE = "START"  # "START", "TRIAL", "END"
score = 0
current_word = ""     # é¡¯ç¤ºçš„æ–‡å­—å…§å®¹ï¼Œå¦‚ "ç´…"
current_color = (0, 0, 0) # é¡¯ç¤ºæ–‡å­—çš„é¡è‰²
start_time = 0
trial_duration = 1.0  # æ¯æ¬¡å˜—è©¦çš„ç§’æ•¸
trial_timer = 0
max_trials = 10
trial_count = 0


def generate_trial():
    """éš¨æ©Ÿç”Ÿæˆä¸€æ¬¡æ–°çš„å¯¦é©—å˜—è©¦ (é¡è‰²å’Œæ–‡å­—)"""
    global current_word, current_color, trial_timer, trial_count
    
    # éš¨æ©Ÿé¸å–è¦é¡¯ç¤ºçš„æ–‡å­— (ä¾‹å¦‚: "ç´…")
    text_choice = random.choice(COLOR_NAMES)
    current_word = text_choice
    
    # éš¨æ©Ÿé¸å–æ–‡å­—çš„é¡è‰² (ä¾‹å¦‚: è—è‰²çš„é¡è‰²ç¢¼)
    color_choice = random.choice(COLOR_NAMES)
    current_color = COLORS[color_choice]
    
    # é‡è¨­è¨ˆæ™‚å™¨ä¸¦å¢åŠ å˜—è©¦æ¬¡æ•¸
    trial_timer = time.time()
    trial_count += 1

def handle_next_trial():
    """è™•ç†ä¸‹ä¸€æ¬¡å˜—è©¦æˆ–çµæŸå¯¦é©—"""
    if trial_count < max_trials:
        generate_trial()
    else:
        global GAME_STATE
        GAME_STATE = "END"


# ç¹ªåœ–å‡½å¼
def draw_start_screen():
    screen.draw.text(
        "å²æ¥šæ™®å¯¦é©—ï¼šè«‹æŒ‰ä¸‹æ–‡å­—ã€Œé¡è‰²ã€å°æ‡‰çš„æŒ‰éµ", 
        (WIDTH // 2 - 300, HEIGHT // 2 - 100), 
        fontsize=40, 
        color=(0, 0, 0)
    )
    screen.draw.text(
        KEY_HINTS,
        (WIDTH // 2 - 200, HEIGHT // 2 + 50),
        fontsize=30,
        color=(100, 100, 100)
    )
    screen.draw.text(
        "æŒ‰ä¸‹ SPACE é–‹å§‹",
        (WIDTH // 2 - 100, HEIGHT // 2 + 150),
        fontsize=30,
        color=(0, 0, 0)
    )

def draw_trial_screen():
    # é¡¯ç¤ºç•¶å‰å•é¡Œ
    screen.draw.text(
        current_word, 
        (WIDTH // 2 - 50, HEIGHT // 2), 
        fontsize=80, 
        color=current_color
    )
    # é¡¯ç¤ºè¨ˆåˆ†èˆ‡æ¬¡æ•¸
    screen.draw.text(
        f"åˆ†æ•¸: {score} / {max_trials}",
        (10, 10),
        fontsize=30,
        color=(0, 0, 0)
    )
    screen.draw.text(
        f"æ¬¡æ•¸: {trial_count} / {max_trials}",
        (10, 50),
        fontsize=30,
        color=(0, 0, 0)
    )
    # é¡¯ç¤ºæŒ‰éµæç¤º
    screen.draw.text(
        KEY_HINTS,
        (WIDTH // 2 - 200, HEIGHT - 50),
        fontsize=30,
        color=(100, 100, 100)
    )
    
def draw_end_screen():
    screen.draw.text(
        "å¯¦é©—çµæŸï¼", 
        (WIDTH // 2 - 100, HEIGHT // 2 - 100), 
        fontsize=60, 
        color=(0, 0, 0)
    )
    screen.draw.text(
        f"ç¸½åˆ†ï¼š{score}/{max_trials}", 
        (WIDTH // 2 - 100, HEIGHT // 2), 
        fontsize=60, 
        color=(0, 0, 0)
    )


def draw():
    screen.fill((255, 255, 255))
    
    if GAME_STATE == "START":
        draw_start_screen()
    elif GAME_STATE == "TRIAL":
        draw_trial_screen()
    elif GAME_STATE == "END":
        draw_end_screen()


# æ›´æ–°èˆ‡äº‹ä»¶è™•ç†
def update():
    global GAME_STATE
    
    if GAME_STATE == "TRIAL":
        # æª¢æŸ¥æ˜¯å¦è¶…æ™‚
        if time.time() - trial_timer > trial_duration:
            print(f"å˜—è©¦ {trial_count}: è¶…æ™‚ï¼")
            handle_next_trial()

def on_key_down(key):
    global GAME_STATE, score
    
    if GAME_STATE == "START" and key == keys.SPACE:
        # é–‹å§‹å¯¦é©—
        score = 0
        global trial_count
        trial_count = 0
        GAME_STATE = "TRIAL"
        generate_trial()
    
    elif GAME_STATE == "TRIAL":
        user_answer_color_name = KEYS.get(key)
        
        # æ‰¾åˆ°æ­£ç¢ºç­”æ¡ˆ (æ–‡å­—çš„ã€Œé¡è‰²ã€æ‰€å°æ‡‰çš„åç¨±)
        # current_color æ˜¯ (R, G, B) å€¼
        correct_color_name = next((name for name, color in COLORS.items() if color == current_color), None)
        
        if user_answer_color_name:
            if user_answer_color_name == correct_color_name:
                print(f"å˜—è©¦ {trial_count}: æ­£ç¢ºï¼")
                score += 1
            else:
                print(f"å˜—è©¦ {trial_count}: éŒ¯èª¤ï¼ æ­£ç¢ºç­”æ¡ˆæ˜¯: {correct_color_name}")
            
            # ç„¡è«–å°éŒ¯ï¼Œé€²å…¥ä¸‹ä¸€æ¬¡å˜—è©¦
            handle_next_trial()
        
    elif GAME_STATE == "END" and key == keys.SPACE:
        # é‡æ–°é–‹å§‹
        GAME_STATE = "START"


pgzrun.go()
</code></pre>
            </section>    


            <section>
                <h2>æŒ‘æˆ°é¡Œç›®</h2>
                
                <div class="challenge-item" id="challenge-1">
                    <h3 class="caption">æŒ‘æˆ° 1ï¼šåŠ å…¥ä¸€è‡´æ€§è©¦é©— <span class="icon">ğŸ›ˆ</span></h3>
                    <p>åœ¨ <code>generate_trial()</code> å‡½å¼ä¸­ï¼ŒåŠ å…¥ä¸€å€‹æ¢ä»¶ï¼Œç¢ºä¿æœ‰ 50% çš„æ©Ÿç‡è®“æ–‡å­—å…§å®¹èˆ‡æ–‡å­—é¡è‰²ä¸€è‡´ï¼ˆä¾‹å¦‚ï¼šæ–‡å­—ã€Œç´…ã€é¡¯ç¤ºç‚ºç´…è‰²ï¼‰ã€‚é€™æœ‰åŠ©æ–¼æ¯”è¼ƒå¹²æ“¾èˆ‡éå¹²æ“¾æƒ…å¢ƒçš„åæ‡‰æ™‚é–“ã€‚</p>
                    <div class="answer">
                        <pre class="line-numbers"><code class="language-python"># è§£ç­”
def generate_trial():
    global current_word, current_color, trial_timer, trial_count
    
    # éš¨æ©Ÿé¸å–è¦é¡¯ç¤ºçš„æ–‡å­—
    text_choice = random.choice(COLOR_NAMES)
    current_word = text_choice
    
    if random.random() < 0.5:
        # 50% æ©Ÿç‡ï¼Œæ–‡å­—å…§å®¹èˆ‡é¡è‰²ä¸€è‡´ (Congruent Trial)
        current_color = COLORS[text_choice]
    else:
        # 50% æ©Ÿç‡ï¼Œæ–‡å­—å…§å®¹èˆ‡é¡è‰²ä¸ä¸€è‡´ (Incongruent Trial)
        # ç¢ºä¿é¡è‰²èˆ‡æ–‡å­—å…§å®¹ä¸åŒ
        available_colors = [name for name in COLOR_NAMES if name != text_choice]
        color_choice = random.choice(available_colors)
        current_color = COLORS[color_choice]
    
    trial_timer = time.time()
    trial_count += 1
</code></pre>
                    </div>
                    <button class="chatbot-toggle-btn" onclick="openChatbot(this)">
                        ğŸ’¬ éœ€è¦å¼•å°ï¼Ÿæ‰¾å­¸ç¿’åŠ©æ‰‹
                    </button>
                </div>
    
                <div class="challenge-item" id="challenge-2">
                    <h3 class="caption">æŒ‘æˆ° 2ï¼šè¨˜éŒ„åæ‡‰æ™‚é–“ <span class="icon">ğŸ›ˆ</span></h3>
                    <p>ä¿®æ”¹ç¨‹å¼ï¼Œåœ¨æ¯æ¬¡æˆåŠŸæˆ–å¤±æ•—çš„å˜—è©¦ä¸­ï¼Œè¨˜éŒ„ä¸‹ç©å®¶çš„åæ‡‰æ™‚é–“ï¼ˆå¾å•é¡Œå‡ºç¾åˆ°æŒ‰ä¸‹æŒ‰éµçš„æ™‚é–“ï¼‰ã€‚</p>
                    <div class="answer">
                        <pre class="line-numbers"><code class="language-python"># è§£ç­”
# åœ¨å…¨åŸŸè®Šæ•¸ä¸­åŠ å…¥ä¸€å€‹åˆ—è¡¨ä¾†å„²å­˜åæ‡‰æ™‚é–“
# response_times = []

def on_key_down(key):
    global GAME_STATE, score, trial_timer
    
    # ... [å…¶ä»–ç¨‹å¼ç¢¼ä¿æŒä¸è®Š]
    
    elif GAME_STATE == "TRIAL":
        user_answer_color_name = KEYS.get(key)
        
        # ... [æª¢æŸ¥ç­”æ¡ˆçš„é‚è¼¯ä¿æŒä¸è®Š]
        
        if user_answer_color_name:
            reaction_time = time.time() - trial_timer
            # response_times.append(reaction_time) # å„²å­˜æ™‚é–“
            print(f"å˜—è©¦ {trial_count}: åæ‡‰æ™‚é–“: {reaction_time:.3f} ç§’") 
            
            # ... [è™•ç†å°éŒ¯å’Œ handle_next_trial() ä¿æŒä¸è®Š]
</code></pre>
                    </div>
                    <button class="chatbot-toggle-btn" onclick="openChatbot(this)">
                        ğŸ’¬ éœ€è¦å¼•å°ï¼Ÿæ‰¾å­¸ç¿’åŠ©æ‰‹
                    </button>
                </div>

                <div class="challenge-item" id="challenge-3">
                    <h3 class="caption">æŒ‘æˆ° 3ï¼šé¡¯ç¤ºå¹³å‡åæ‡‰æ™‚é–“ <span class="icon">ğŸ›ˆ</span></h3>
                    <p>çµåˆæŒ‘æˆ° 2 çš„åæ‡‰æ™‚é–“è¨˜éŒ„ï¼Œåœ¨å¯¦é©—çµæŸï¼ˆ<code>END</code> ç‹€æ…‹ï¼‰æ™‚ï¼Œè¨ˆç®—ä¸¦é¡¯ç¤ºç©å®¶çš„å¹³å‡åæ‡‰æ™‚é–“ï¼Œè®“çµæœæ›´å…·ç§‘å­¸åˆ†ææ„ç¾©ã€‚</p>
                    <div class="answer">
                        <pre class="line-numbers"><code class="language-python"># è§£ç­”
# å‡è¨­ response_times å·²ç¶“åœ¨ Challenge 2 è¢«è¨­ç½®å’Œä½¿ç”¨äº†
response_times = [] # å‡è¨­å·²åœ¨å…¨åŸŸå®šç¾©ä¸¦åœ¨ on_key_down ä¸­è¨˜éŒ„

def draw_end_screen():
    # ... [åŸæœ‰çš„ draw_end_screen ç¨‹å¼ç¢¼]
    
    if response_times:
        avg_rt = sum(response_times) / len(response_times)
        screen.draw.text(
            f"å¹³å‡åæ‡‰æ™‚é–“ï¼š{avg_rt:.3f} ç§’", 
            (WIDTH // 2 - 200, HEIGHT // 2 + 100), 
            fontsize=50, 
            color=(0, 0, 0)
        )
    else:
        screen.draw.text(
            "ç„¡åæ‡‰æ™‚é–“æ•¸æ“š", 
            (WIDTH // 2 - 100, HEIGHT // 2 + 100), 
            fontsize=50, 
            color=(0, 0, 0)
        )
</code></pre>
                    </div>
                    <button class="chatbot-toggle-btn" onclick="openChatbot(this)">
                        ğŸ’¬ éœ€è¦å¼•å°ï¼Ÿæ‰¾å­¸ç¿’åŠ©æ‰‹
                    </button>
                </div>

            </section>


            <section>
                <h2>çµèª</h2>
                <p>é€éé€™å€‹ Stroop Task ç·´ç¿’ï¼Œä½ å·²ç¶“æŒæ¡äº† Pygame Zero ä¸­ç‹€æ…‹ç®¡ç†ã€æ™‚é–“è™•ç†å’Œäº‹ä»¶å›é¥‹çš„ç¶œåˆé‹ç”¨ã€‚é€™äº›æŠ€è¡“å°æ–¼é–‹ç™¼ä»»ä½•äº’å‹•å¼éŠæˆ²æˆ–å¿ƒç†å­¸å¯¦é©—éƒ½æ˜¯éå¸¸é‡è¦çš„ï¼</p>
            </section>
        </main>
		
		<div id="chatbot-container" class="chatbot-docked chatbot-docked-right" style="display: none;">
			<div class="chatbot-window">
				<div class="chatbot-header">
					<div class="chatbot-header-left">
						<span class="chatbot-title" id="chatbot-title">ğŸ¤– Python å­¸ç¿’åŠ©æ‰‹</span>
						
					</div>
					<div class="chatbot-header-right">
						<button class="chatbot-jump-btn" id="chatbot-jump-btn" onclick="jumpToChallenge()" title="è·³è½‰åˆ°æŒ‘æˆ°ä½ç½®">ğŸš©</button>
						<button class="chatbot-dock-btn" id="dock-right-btn" onclick="dockChatbot('right')" title="åœé å³å´">
							â–·
						</button>
						<button class="chatbot-dock-btn" id="dock-bottom-btn" onclick="dockChatbot('bottom')" title="åœé åº•éƒ¨">
							â–½
						</button>
						<button class="chatbot-close" onclick="closeChatbot()">âœ•</button>
					</div>
				</div>
								
				<div class="chatbot-resizer" id="chatbot-resizer"></div>
				
				<div class="chatbot-messages" id="chatbot-messages"></div>
				<div class="chatbot-input">
					<textarea 
						id="chatbot-input" 
						placeholder="è¼¸å…¥ä½ çš„å›ç­”æˆ–å•é¡Œ...ï¼ˆShift+Enter æ›è¡Œï¼ŒEnter ç™¼é€ï¼‰" 
						onkeydown="handleKeyPress(event)"
						rows="1"></textarea>
					<button id="chatbot-send-btn" onclick="sendMessage()">ç™¼é€</button>
					<button id="chatbot-summary-btn" onclick="generateSummary()">ğŸ“Š</button>
				</div>
			</div>
		</div>

		<script src="js/auth.js"></script>
		<script src="js/chatbot.js"></script>
		
    </div>
</body>
</html>