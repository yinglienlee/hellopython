<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 700">
  <!-- Background with subtle gradient -->
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f9f9ff" />
      <stop offset="100%" stop-color="#f0f0fa" />
    </linearGradient>
    <!-- Box shadow filter -->
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.3" />
    </filter>
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a6fa5" />
    </marker>
  </defs>
  
  <!-- Background rectangle -->
  <rect width="600" height="700" fill="url(#bg-gradient)" rx="10" />
  
  <!-- Title -->
  <text x="300" y="60" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333366">遊戲執行循環</text>
  
  <!-- Initialization box -->
  <rect x="175" y="100" width="250" height="90" rx="15" fill="#e0f7fa" stroke="#4a6fa5" stroke-width="2.5" filter="url(#shadow)" />
  <text x="300" y="130" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333366">初始化</text>
  <text x="300" y="155" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">(設置視窗、圖像、</text>
  <text x="300" y="175" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">音效、變數)</text>
  
  <!-- Update box -->
  <rect x="175" y="250" width="250" height="90" rx="15" fill="#e3f2fd" stroke="#4a6fa5" stroke-width="2.5" filter="url(#shadow)" />
  <text x="300" y="280" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333366">更新()</text>
  <text x="300" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">(處理輸入、邏輯、</text>
  <text x="300" y="325" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">更新遊戲狀態)</text>
  
  <!-- Draw box -->
  <rect x="175" y="400" width="250" height="90" rx="15" fill="#e8f5e9" stroke="#4a6fa5" stroke-width="2.5" filter="url(#shadow)" />
  <text x="300" y="430" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333366">繪製()</text>
  <text x="300" y="455" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">(清除畫面、繪製所有</text>
  <text x="300" y="475" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">角色和物件)</text>
  
  <!-- Refresh Display box -->
  <rect x="175" y="550" width="250" height="70" rx="15" fill="#fff8e1" stroke="#4a6fa5" stroke-width="2.5" filter="url(#shadow)" />
  <text x="300" y="580" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333366">更新顯示</text>
  <text x="300" y="600" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#444">(由PyGame處理)</text>
  
  <!-- Loop label -->
  <rect x="345" y="640" width="175" height="30" rx="15" fill="rgba(255,255,255,0.7)" stroke="#4a6fa5" stroke-width="1.5" />
  <text x="435" y="660" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333366">(每秒循環約60次)</text>
  
  <!-- Vertical connection lines -->
  <line x1="300" y1="190" x2="300" y2="250" stroke="#4a6fa5" stroke-width="3" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <line x1="300" y1="340" x2="300" y2="400" stroke="#4a6fa5" stroke-width="3" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <line x1="300" y1="490" x2="300" y2="550" stroke="#4a6fa5" stroke-width="3" stroke-linecap="round" marker-end="url(#arrowhead)" />
  
  <!-- Return loop line -->
  <path d="M 300,620 L 300,670 Q 300,690 280,690 L 120,690 Q 100,690 100,670 L 100,295 Q 100,275 120,275 L 175,275" fill="none" stroke="#4a6fa5" stroke-width="3" stroke-linecap="round" marker-end="url(#arrowhead)" />
</svg>
